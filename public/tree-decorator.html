<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ ê¾¸ë¯¸ê¸°</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Hahmlet:wght@100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/tree.css">
</head>
<body class="tree-page">
    <div id="snow-container" class="snow-container"></div>

    <header class="navbar">
        <div class="nav-container">
            <div class="nav-logo"><a href="index.html">Happy Christmas</a></div>
            <nav class="nav-links">
                <a href="index.html">ë©”ì¸</a>
                <a href="letter.html">í¸ì§€ ë³´ë‚´ê¸°</a>
                <a href="tree-decorator.html">íŠ¸ë¦¬ ê¾¸ë¯¸ê¸°</a>
                <a href="minigame.html">ë¯¸ë‹ˆê²Œì„</a>
            </nav>
        </div>
    </header>

    <main class="tree-main">
        <h1>ìš°ë¦¬ë§Œì˜ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ë¥¼ ê¾¸ë©°ë³´ì„¸ìš”</h1>
        
        <div class="decorator-container">
            <aside class="ornament-palette">
                <h2>ì¥ì‹ ëª©ë¡</h2>
                <div class="ornaments-list">
                    <div class="ornament ball-red" draggable="true" data-type="ball-red"></div>
                    <div class="ornament ball-green" draggable="true" data-type="ball-green"></div>
                    <div class="ornament star-gold" draggable="true" data-type="star-gold"></div>
                    <div class="ornament candy-cane" draggable="true" data-type="candy-cane"></div>
                    <div class="ornament gift-box" draggable="true" data-type="gift-box"></div>
                    <div class="ornament memo-note" draggable="true" data-type="memo-note"></div>
                </div>
                <button id="reset-button" class="button-red">ëª¨ë‘ ì§€ìš°ê¸°</button>
            </aside>
            
            <section id="tree-area" class="tree-area">
                <div class="main-tree"></div>
            </section>
        </div>
    </main>
    
    <!-- ë©”ëª¨ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="input-modal" class="modal">
        <div class="modal-content">
            <span id="close-input-modal" class="close-button">&times;</span>
            <h2>ë©”ëª¨ ë‚¨ê¸°ê¸° ğŸ“</h2>
            <form id="memo-input-form">
                <textarea id="input-memo-text" placeholder="ì—¬ê¸°ì— ë©”ëª¨ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.."></textarea>
                <button type="submit" class="button-green">ë©”ëª¨ ê±¸ê¸°</button>
            </form>
        </div>
    </div>
    
    <!-- ë©”ëª¨ ë³´ê¸° ëª¨ë‹¬ -->
    <div id="view-modal" class="modal">
        <div class="modal-content">
            <span id="close-view-modal" class="close-button">&times;</span>
            <h2>ì‘ì„±í•œ ë©”ëª¨ ë³´ê¸°</h2>
            <p id="view-memo-text"></p>
        </div>
    </div>

    <audio id="christmas-carol" src="assets/audio/carol.mp3" loop></audio> 
    <button id="music-toggle" class="music-toggle-button">ìŒì•…</button>

    <button id="snow-toggle">â„ï¸</button> 

    <!-- Firebase (Firestore) for shared memos -->
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBaT3IuQJ9EAWS5Xg5Fr5GkehCNKuCq1To",
            authDomain: "christmastree-dccfb.firebaseapp.com",
            projectId: "christmastree-dccfb",
            storageBucket: "christmastree-dccfb.appspot.com",
            messagingSenderId: "532924420650",
            appId: "1:532924420650:web:12d6c7e0dd417018a46953"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        window.db = firebase.firestore();
        window.firestoreTimestamp = firebase.firestore.FieldValue.serverTimestamp;
    </script>

    <script src="js/tree.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
